<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: 'Helvetica', 'Arial', sans-serif;
        color: #444444;
        font-size: 9pt;
        background-color: #FAFAFA;
        background-color: #17202A;
        font-size: 1.5rem;
        line-height: 2rem;
      }

      main {
        background-color: #17202A;
      }

      .nd-background {
        background-color: #1C2733;
      }
        /* can be configured in tailwind.config.js */
        .group:hover .group-hover\:block {
            display: block;
        }
    .hover\:w-64:hover {
            width: 45%;
        }
    /* NO NEED THIS CSS - just for custom scrollbar which can also be configured in tailwind.config.js*/
    ::-webkit-scrollbar {
        width: 2px;
        height: 2px;
    }
    ::-webkit-scrollbar-button {
        width: 0px;
        height: 0px;
    }
    ::-webkit-scrollbar-thumb {
        background: #2d3748;
        border: 0px none #ffffff;
        border-radius: 50px;
    }
    ::-webkit-scrollbar-thumb:hover {
        background: #2b6cb0;
    }
    ::-webkit-scrollbar-thumb:active {
        background: #000000;
    }
    ::-webkit-scrollbar-track {
        background: #1a202c;
        border: 0px none #ffffff;
        border-radius: 50px;
    }
    ::-webkit-scrollbar-track:hover {
        background: #666666;
    }
    ::-webkit-scrollbar-track:active {
        background: #333333;
    }
    ::-webkit-scrollbar-corner {
        background: transparent;
    }
    </style>
</head>
<body class="text-2lx">
  <div class="flex min-h-screen w-screen items-center justify-center rounded-3xl">


    <div class="nd-background w-screen min-h-1/2 border border-gray-900 rounded-3xl">
          <!-- component -->
      <div class="h-screen w-full bg-white relative flex overflow-hidden">

        <!-- Sidebar -->
        <aside class="h-full w-5/12 flex flex-col space-y-2 items-center relative bg-gray-800 text-white">
          <!-- Logo -->
          <div class="relative flex-shrink-0 px-2 py-2 w-10/12 text-gray-400 border-b dark:border-indigo-800 dark:focus-within:text-light focus-within:text-gray-700">
              <button class="w-auto px-2 max-w-full p-1 rounded-full bg-opacity-0 text-white"> Purpost</button>
          </div>

          <!-- Profile -->
          <div class="relative flex-shrink-0 w-10/12 px-2 text-white">
              <button class="flex  w-auto pr-5 max-w-full p-2 bg-white rounded-full bg-opacity-0 text-white hover:bg-opacity-40 focus-within:bg-opacity-20">
              <div class="p-2">
                <svg width="27" height="22" viewBox="0 0 27 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M14.2287 0.0957275L26.2478 5.89788C26.6809 6.10848 26.8427 6.59243 26.6095 6.97853C26.3751 7.3657 25.8327 7.50716 25.3996 7.30188L24.4265 6.83175L22.4921 19.053C22.2327 20.3708 20.9324 21.2728 19.324 21.2728H8.28157C6.67553 21.2728 5.37404 20.3719 5.11945 19.0795L3.18149 6.83388L2.21192 7.30188C2.07748 7.3657 1.93116 7.3976 1.7884 7.3976C1.47195 7.3976 1.16382 7.2455 1.00322 6.9796C0.768857 6.59137 0.930651 6.10741 1.36369 5.89788L13.3805 0.0957275C13.6458 -0.0319092 13.9634 -0.0319092 14.2287 0.0957275ZM19.3264 19.6773C19.8939 19.6773 20.6029 19.4476 20.7302 18.803L22.7526 6.02338L13.804 1.70501L4.85772 6.02551L6.88253 18.8285C7.00506 19.4476 7.71291 19.6773 8.28395 19.6773H19.3264ZM13.8045 14.826C11.3241 14.826 9.30759 13.0221 9.30759 10.8055C9.30759 8.58887 11.3241 6.78494 13.8045 6.78494C16.285 6.78494 18.3014 8.58887 18.3014 10.8055C18.3014 13.0221 16.285 14.826 13.8045 14.826ZM13.8045 13.2306C15.3011 13.2306 16.5169 12.1435 16.5169 10.8055C16.5169 9.46743 15.3011 8.38039 13.8045 8.38039C12.3079 8.38039 11.0921 9.46743 11.0921 10.8055C11.0921 12.1435 12.3079 13.2306 13.8045 13.2306Z" fill="white"/>
                </svg>
              </div>
               <a class="p-1" >Home</a></button>
          </div>
        </aside>

        
       
        <div class="w-full h-full flex flex-col justify-between">
          <!-- Header -->
          <header class="h-16 w-full flex items-center relative justify-end px-5 space-x-10 bg-gray-800">
          <!-- Profile -->
            <div class="flex relative flex-shrink-0 px-2 py-2 w-full text-gray-400 dark:focus-within:text-light focus-within:text-gray-700">
                <button class="w-1/2 p-2 bg-gray-50 border-b dark:border-indigo-800 bg-opacity-0 focus:font-bold text-white">Post</button>
                <div class="vl dark:border-indigo-800 border-l h-7/12"></div>
                <button class="w-1/2 p-2 bg-gray-50 border-b dark:border-indigo-800 bg-opacity-0 focus:font-bold text-white">Post</button>

            </div>
            
          </header>

          <!-- Main -->
          <main class="max-w-full h-full flex relative overflow-y-hidden">
            <!-- Container -->
             <div id="imageContainer" class="h-full w-full m-4 flex flex-wrap items-start bg-opacity-0 justify-start rounded-tl grid-flow-col auto-cols-max gap-4 overflow-y-scroll">
              <!-- Container -->
                    
              </div>
          </main>

        </div>

        <!-- Search Bar -->
        <aside class="h-full w-6/12 flex flex-col space-y-10 items-center relative bg-gray-800 text-white">
          <!-- Search -->
          <div class="relative flex-shrink-0 px-2 py-2 w-full text-gray-400 border-b dark:border-indigo-800 dark:focus-within:text-light focus-within:text-gray-700">
            <span class="absolute inset-y-0 inline-flex items-center px-4">
            <svg
                class="w-5 h-5"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
            >
                <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                />
            </svg>
            </span>
            <input
            x-ref="searchInput"
            type="text"
            class="w-full py-2 pl-10 pr-4 border rounded-full dark:bg-dark dark:border-transparent dark:text-light focus:outline-none focus:ring"
            placeholder="Search..."
            />
        </div>
          
        </aside>
      </div>

    </div>

    </div>
</body>


<script type="text/javascript">

  imgArray = ['https://i.imgur.com/fjXFX93.jpeg', 'https://i.imgur.com/5yeBVeM.jpeg', 'https://i.imgur.com/DBpznrn.jpeg', 'https://i.imgur.com/ISpNf4j.jpeg'];

  const imageScrollbox = document.getElementById('imageContainer');
  imageScrollbox.innerHTML = '';

  imgArray.forEach(img_src =>{
    imgContainer = document.createElement('div');
    imgContainer.className = "w-full bg-opacity-0 p-3";
    imgContainer.innerHTML = `
      <div class="w-full bg-opacity-0 p-3">
                <img class="w-full object-cover" src="${img_src}">
                <ul class="mt-3 flex flex-wrap">
                  <li class="mr-auto">
                    <a href="#" class="flex text-gray-400 hover:text-gray-600">
                      <svg class="mr-0.5" style="width:24px;height:24px" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M21,12L14,5V9C7,10 4,15 3,20C5.5,16.5 9,14.9 14,14.9V19L21,12Z"></path>
                      </svg>
                      1
                    </a>
                  </li>
                  <li class="mr-2">
                    <a href="#" class="flex text-gray-400 hover:text-gray-600">
                      <svg class="mr-0.5" style="width:24px;height:24px" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path>
                      </svg>
                      24
                    </a>
                  </li>
                  <li class="mr-2">
                    <a href="#" class="flex text-gray-400 hover:text-gray-600">
                      <svg class="mr-0.5" style="width:24px;height:24px" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z"></path>
                      </svg>
                      3
                    </a>
                  </li>
                  <li>
                    <a href="#" class="flex text-gray-400 hover:text-gray-600">
                      <svg class="mr-0.5" style="width:24px;height:24px" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"></path>
                      </svg>
                      3
                    </a>
                  </li>
                </ul>

    `
    imageScrollbox.appendChild(imgContainer);
  })
</script>
<script type="text/javascript">


// Function to handle file upload
const handleFileUpload = (files) => {
  if (files.length === 0) {
    console.error('No file selected');
    return;
  }
  const filePath = URL.createObjectURL(files[0]);
  uploadImage(filePath);
};

// Function to upload the image
const uploadImage = async (filePath) => {
  try {
    const file = await fetchFile(filePath);
    const formData = new FormData();
    formData.append('file', file, filePath.split('/').pop());

    const response = await fetch('192.168.133.129:8080/api/upload', {
      method: 'POST',
      body: formData
    });

    if (!response.ok) {
      throw new Error('Failed to upload image');
    }

    const data = await response.text();
    console.log('Image uploaded successfully:', data);
  } catch (error) {
    console.error('Error uploading image:', error.message);
  }
};

// Function to fetch file asynchronously
const fetchFile = async (filePath) => {
  try {
    const response = await fetch(filePath);
    if (!response.ok) {
      throw new Error('Failed to fetch file');
    }
    const blob = await response.blob();
    return new File([blob], filePath.split('/').pop());
  } catch (error) {
    console.error('Error fetching file:', error.message);
    throw error;
  }
};

// Add event listener to file input element
const fileInput = document.getElementById('fileInput');
fileInput.addEventListener('change', (event) => {
  handleFileUpload(event.target.files);
});

// Trigger file input click programmatically
fileInput.click();

</script>